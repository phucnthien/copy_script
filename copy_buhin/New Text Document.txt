パケタイザについて
本番系と検証系の2系統がある
さらに本番系には主副があり、TS監視（Switcher)によりホットスタンバイされる
　　　（このとき主副にコンテンツ上の差異はなく、ミラーリング状態とする）
設計上では検証系が複数ある場合や存在しない場合も考慮するが、基本的には主系・副系・検証系の３つがあるものとする
データ放送コンテンツについて
データ放送ESは40・50・60の３つで、常時運用（空でも送出は）される
ES単位でコンテンツを差し替える（VF改良済み）
　　（各ESごとにBCMLを記述、更新はXML監視で発火）
BCMLの記述仕様はパケタイザに合わせる
ビットレート変更にはパケタイザの再起動が必要
　　（conf.xmlの再読込みが必要、このためCMSでは考慮しない）
パケタイザおよびCMSのサーバOSは両方ともWindows系を想定する
　　　（現状CMSはLinuxだがReplace予定）
CMSサーバアプリの構築はNode.jsを使う
オペレータPCのOSとブラウザは、WindowsとChromeを想定、それ以外は保証外とする
文字コードはUTF-8、PCおよびOSの言語設定は英語とする



CMSも主副の2系統で設計するが、障害時には手動で切り替えるコールドスタンバイ
そのため主副間で情報の新旧差分がでないように、CMS内には最小限の設定情報（NASのURL等、またはログなど）だけ持たせ、
基本的にすべてのコンテンツ＆データはNAS上に置くようにする
CMSは以下3つの基本機能を持つ
コンテンツ登録
各種のデータ放送コンテンツを登録・管理する機能。コンテンツの払い出しなども含む
編成登録
時間枠に登録したコンテンツを張り付け、時限更新する機能。緊急停止なども含む
データ更新
登録したコンテンツ上のモノメディアを上書き更新する機能。手動更新、自動更新や時限更新など諸々
コンテンツ登録について
登録するデータ放送コンテンツはESごとに記述したBCMLで行い、便宜上これを「ESコンテンツ」と呼ぶ
　　（ARIB上ではBCMLコンテンツの呼称があるがES単位とは限らない 参照：STD-B35）
コンテンツの登録は本番系・検証系の区別なく統一管理する
　　（ただし更新データは本番系・検証系で区別される）
編成登録について
枠貼り付けは40・50・60の各ESごとに、ESコンテンツ単位で行う
この編成情報は本番系（主副は同一）と検証系で別管理する

データ更新の機能は以下の3種類とする
自動取り込み
手動入力
直接更新
自動取り込みとは、指定時間に外部（データベース・ファイルサーバ・メールなど）からデータを自動で取り込んで変換し、更新処理する機能をいう
CMS組込みの機能で、基本的に変更不可（機能のOn/Off切り替えとスケジュール設定などができる）
手動入力とは、数種類用意しているフォームに従いオペレータが手動でデータを入力・編集して更新処理する機能のこと
入力フォームは基本的にCMSベンダーがデータ放送コンテンツ開発者と協議して用意するものだが、将来的には自由に追加・カスタマイズできることを想定する
入力フォームは検証系・本番系で共通（どちらにもおなじものがある）
検証系でデータを検証し、確認後、本番系に反映するのが運用の基本手順になるので、そういった操作ができる構成を想定すること
フォームへの入力内容を保存したり一覧管理できるようにする（この一覧を本番系・検証系で共有する）
編集時に元データとしてESコンテンツなどからデータを抜き出す機能を有すること
作成したデータを、任意の時間に更新できるような時限発火機能を有すること
直接更新とは、任意のモノメディアを直接投げ込んで更新処理する機能のこと
別途作成したJPEGやBTBファイルを任意のESコンテンツに直接投げ込んで更新イベントを発生させること、ただし基本的には常用外


更新設定の管理
自動取り込み・手動更新の設定は本番系・検証系共通で登録／管理される
ただしそれらの有効／無効設定やスケジュール設定は各系統別に管理される
直接更新は各系統別に履歴のみ管理される
基本的には検証系でテストした更新設定を、本番系でも実行する流れになる
データ更新のしくみ
更新データは本番系・検証系の各系統ごとに、常に最新の更新データ一式としてまとめられ保持されている
一方、登録コンテンツ（ESコンテンツ）にはダミーまたは空のデータしか入っていない
OAコンテンツとは、編成スケジュールにより組み合わされたESコンテンツ（これを編成コンテンツという）と、更新データ一式とを合成したものとなる
データが更新されるときには、更新データ一式の中のデータと、OAコンテンツにも含まれていればそのデータの両方が同時に更新されることになる
更新データ一式
更新データ一式とは、過去に実行されたすべての更新処理（自動・手動・直接）が蓄積され、常に最新の状態で保持されているもの
ただしログ機能は持たない（各更新処理には履歴がある）ので、特定の時刻に戻すといったことはできない
一式内の更新データは「/ES名/モジュール名/ファイル名」で管理される
このため自動取り込み・手動更新で出力されるファイルやモジュールが被らないように設計しなければならない
